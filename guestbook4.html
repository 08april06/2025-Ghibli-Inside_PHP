<!-- "센과 치히로의 행방불명" 유형 -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>방명록_센과 치히로의 행방불명</title>
    <link rel="stylesheet" href="/css/guestbook4.css"/>
    <!-- <link rel="stylesheet" href="css/font.css"> -->
</head>

<body>
    <header>
        <div class="container">
            <img src="img/header.png" id="header" />

            <div id="box">
                <p id="title">방명록</p>
                <img src="img/Line.png" id="Line" />

                <p id="text">"센과 치히로의 행방불명" 유형</p>

                <button type="button" id="arrow">
                    <img src="img/guest_arrow.png" onclick="location.href='Main.html'" />
                </button>

            </div>
        </div>
    </header>
    <main>
        <div id="chat-container"></div>
        <div id="container-box">
            <input type="text" id="input-text" placeholder="남기고 싶은 말을 입력해주세요.">
            <button onclick="sendMessage()" id="submit" type="button">
                <img src="img/arrow.png">
            </button>

            <script>
                const input = document.getElementById("input-text");
                input.addEventListener("keydown", function (event) {
                    if (event.key === "Enter") {
                        sendMessage();  
                    }
                });

                function scrollToBottom() {
                    const chatContainer = document.getElementById('chat-container');
                    chatContainer.scrollTop = chatContainer.scrollHeight;

                    document.getElementById("scroll-anchor").scrollIntoView({
                        behavior: "smooth",
                        block: "end"
                    });
                }

                function sendMessage() {
                    const input = document.getElementById("input-text");
                    const message = input.value.trim();
                    if (message === "") return;

                    const container = document.getElementById("chat-container");

                    const wrapper = document.createElement("div");
                    wrapper.className = "message-wrapper";

                    const avatar = document.createElement("img");

                    // 랜덤 이미지
                    const avatars = ["img/chihiro_green.png", "img/chihiro_red.png"];
                    const randomIndex = Math.floor(Math.random() * avatars.length);
                    avatar.src = avatars[randomIndex];

                    avatar.alt = "아바타";
                    avatar.className = "avatar";

                    // 텍스트 박스
                    const textBox = document.createElement("div");

                    const username = document.createElement("div");
                    username.className = "username";
                    username.textContent = "사용자 닉네임";

                    const messageBox = document.createElement("div");
                    messageBox.className = "message-box";
                    messageBox.textContent = message;

                    textBox.appendChild(username);
                    textBox.appendChild(messageBox);

                    wrapper.appendChild(avatar);
                    wrapper.appendChild(textBox);

                    container.appendChild(wrapper);
                    input.value = "";

                    wrapper.scrollIntoView({ behavior: "smooth", block: "start" }); 
                }
            </script>
    </main>
</body>

</html>